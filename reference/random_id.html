<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Random hexadecimal identifiers — random_id • ids</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Random hexadecimal identifiers — random_id"><meta property="og:description" content='Random hexadecimal identifiers.  If possible, by default this uses
the openssl package to produce a random set of bytes, and
expresses that as a hex character string, creating
cryptographically secure (unpredictable) identifiers.  If that is
unavailable, fall back on the xoshiro128+ algorithm to produce
random numbers that are not cryptographically secure, but which do
not affect the global random number stream (see Details). If
desired, you can produce "predictable" random identifiers that
respect the value of the global random number stream via
set.seed.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ids</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/ids.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/reside-ic/ids/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Random hexadecimal identifiers</h1>
    <small class="dont-index">Source: <a href="https://github.com/reside-ic/ids/blob/HEAD/R/random.R" class="external-link"><code>R/random.R</code></a></small>
    <div class="hidden name"><code>random_id.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Random hexadecimal identifiers.  If possible, by default this uses
the <code>openssl</code> package to produce a random set of bytes, and
expresses that as a hex character string, creating
cryptographically secure (unpredictable) identifiers.  If that is
unavailable, fall back on the xoshiro128+ algorithm to produce
random numbers that are not cryptographically secure, but which do
not affect the global random number stream (see Details). If
desired, you can produce "predictable" random identifiers that
respect the value of the global random number stream via
<code>set.seed</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">random_id</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1</span>, bytes <span class="op">=</span> <span class="fl">16</span>, use_openssl <span class="op">=</span> <span class="cn">NULL</span>, global <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>n</dt>
<dd><p>number of ids to return.  If <code>NULL</code>, it instead returns
the generating function</p></dd>
<dt>bytes</dt>
<dd><p>The number of bytes to include for each identifier.
The length of the returned identifiers will be twice this long
with each pair of characters representing a single byte.</p></dd>
<dt>use_openssl</dt>
<dd><p>Optionally a logical, indicating if we should
use the openssl for generating the random identifiers from the
non-global source.  If not given we prefer to use openssl if it
is available but fall back on R (See Details).</p></dd>
<dt>global</dt>
<dd><p>Logical, indicating if random numbers should be
global (given R's global random number seed). If <code>TRUE</code>,
then ids generated will be predictable.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Since ids version 1.2.0, the openssl package is optional, and this
affects non-global random number drawing.  If you have openssl
installed your random numbers will be ~50x faster than the
implementation we include here.</p>
<p>If <code>global = TRUE</code> we always use a simple <a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a>
based algorithm that is driven from the global random number
stream. However, when <code>global = FALSE</code> the behaviour depends
on the value of <code>use_openssl</code> and whether that package is
installed, either using the openssl generators, using an internal
algorithm based on xoshiro128+ or erroring.</p><ul><li><p><code>use_openssl = NULL</code> and openssl installed: openssl</p></li>
<li><p><code>use_openssl = NULL</code> and openssl missing: internal</p></li>
<li><p><code>use_openssl = TRUE</code> and openssl installed: openssl</p></li>
<li><p><code>use_openssl = TRUE</code> and openssl missing: error</p></li>
<li><p><code>use_openssl = FALSE</code>: internal</p></li>
</ul></div>
    <div id="author">
    <h2>Author</h2>
    <p>Rich FitzJohn</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Generate a random id:</span></span>
<span class="r-in"><span class="fu">ids</span><span class="fu">::</span><span class="fu">random_id</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "b78a7130d790a6b28930d30b6cfa379e"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Generate 10 of them!</span></span>
<span class="r-in"><span class="fu">ids</span><span class="fu">::</span><span class="fu">random_id</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "ac1249c4e16dcaeb953b837df72c6d86" "3c9d51a5a1be645e1bc997f0951699e9"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3] "aa8beac87dbb55b9b5a2b20d36fbef8c" "f6e2b94e9c9c5284ab429c4e2ba53316"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] "1c01cdc4161656be25c3dc106c7aad42" "a276a4aa4bda9778f4f10c63a1742ea3"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] "8591f8b473aeca8e77703c373d637a81" "9e1ea2b1dc4afbaac140ed5b11b53ddd"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] "c50ae6bc1052de17c60c8a2d6dda5fb9" "b6e0547f9726089b1ae526e7dc08e48f"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Different length ids</span></span>
<span class="r-in"><span class="fu">random_id</span><span class="op">(</span>bytes <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "d1ec0ec4a8534fd1"</span>
<span class="r-in"><span class="co"># (note that the number of characters is twice the number of bytes)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># The ids are not affected by R's RNG state:</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="op">(</span><span class="va">id1</span> <span class="op">&lt;-</span> <span class="fu">ids</span><span class="fu">::</span><span class="fu">random_id</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "25c3653470d77b200580003d828a8dd0"</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="op">(</span><span class="va">id2</span> <span class="op">&lt;-</span> <span class="fu">ids</span><span class="fu">::</span><span class="fu">random_id</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "5a19775806c3c0ca01671b4e1439cbe8"</span>
<span class="r-in"><span class="co"># The generated identifiers are different, despite the seed being the same:</span></span>
<span class="r-in"><span class="va">id1</span> <span class="op">==</span> <span class="va">id2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># If you need these identifiers to be reproducible, pass use_openssl = FALSE</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="op">(</span><span class="va">id1</span> <span class="op">&lt;-</span> <span class="fu">ids</span><span class="fu">::</span><span class="fu">random_id</span><span class="op">(</span>use_openssl <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "3c93ad914fd3fd2be1eefd3a42c401bc"</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="op">(</span><span class="va">id2</span> <span class="op">&lt;-</span> <span class="fu">ids</span><span class="fu">::</span><span class="fu">random_id</span><span class="op">(</span>use_openssl <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "baa499639163de69df42b9d1cb9a068d"</span>
<span class="r-in"><span class="co"># This time they are the same:</span></span>
<span class="r-in"><span class="va">id1</span> <span class="op">==</span> <span class="va">id2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Pass `n = NULL` to generate a function that binds your arguments:</span></span>
<span class="r-in"><span class="va">id8</span> <span class="op">&lt;-</span> <span class="fu">ids</span><span class="fu">::</span><span class="fu">random_id</span><span class="op">(</span><span class="cn">NULL</span>, bytes <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">id8</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "bcbe3c6f549aa9af" "af7f0f90dcb560ba" "58f2788428b28acc" "a9402bdedc1e1a4d"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] "79f11f16352b551f" "ca6af64d14fa94a5" "192610e8372508bd" "fbed07ac676d8dfb"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] "3952374aba519616" "841dcc6203573eba"</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Rich FitzJohn.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

